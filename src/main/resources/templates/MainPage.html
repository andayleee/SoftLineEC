<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org" xmlns="http://www.w3.org/1999/html">
<head>
  <title >SoftLineEC</title>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">

    <!-- Latest compiled JavaScript -->
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.3/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>
    <link th:href="@{/css/main.css}" rel="stylesheet" />
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
</head>
<style>
    .card {
        width: 100%;
    }

</style>
<body class="body">
<div th:insert="blocks/header.html"/>
<form th:action="${'/main'}" class="center">
    <div class="boxes">
        <h2 class="title123">УЧЕБНЫЙ ЦЕНТР SOFTLINE</h2>
        <div class="divspace"></div>
        <h2 class="title12">Почему выбирают Учебный центр Softline?</h2>
        <div class="divspace"></div>
    </div>
    <div class="row">
        <div class="col-sm">
            <div class="row" style="margin-bottom: 50px">
                <div class="col-sm">
                    <img style="margin: auto;" th:src="@{/images/Grid1.png}" alt="1"/>
                    <h2>Международные<br/>
                        сертификаты в центрах<br/>
                        тестирования Softline</h2>
                </div>
                <div class="col-sm">
                    <img style="margin: auto;" th:src="@{/images/Grid2.png}" alt="1"/>
                    <h2>Возможность <br/>
                        обучения из любой<br/>
                        точки мира</h2>
                </div>
            </div>
            <div class="row" style="margin-bottom: 50px">
                <div class="col-sm">
                    <img style="margin: auto" th:src="@{/images/Grid3.png}" alt="1"/>
                    <h2>Авторизации<br/>
                        ведущих<br/>
                        производителей ПО</h2>
                </div>
                <div class="col-sm">
                    <img style="margin: auto" th:src="@{/images/Grid4.png}" alt="1"/>
                    <h2>Гибкий индивидуальный<br/>
                        подход в обучении</h2>
                </div>
            </div>
        </div>
        <div class="col-sm">
            <img style="position: static" th:src="@{/images/Laptop.png}" alt="1"/>
        </div>
    </div>
    <div class="boxes">
        <h2 class="title12" style="text-align: start; padding-left: 40px; margin-top: 20px">Доступные курсы</h2>
        <div style="height: 5vh"></div>
        <div id="courses-list" style="width: 100%"></div>
    </div>
</form>
<script>
    const coursesListContainer = $('#courses-list');
    $.ajax({
        url: '/check-courses', // URL для запроса
        type: 'POST', // метод запроса
        success: function(courses) {
            console.log(courses);
            var coursesList = $('#courses-list');
            courses.forEach(function(course) {
                var card = $('<div>').addClass('card').css({
                    'box-shadow': '0 4px 8px 0 rgba(0,0,0,0.2)',
                    'max-width': '100%',
                    'margin-bottom': '50px',
                    'display': 'flex',
                    'flex-direction': 'column',
                    'height': '100%'
                });
                var cardTitle = $('<h5>').addClass('card-title').text(course.nameOfCourse).css({
                    'bottom': '0',
                    'left': '0',
                    'right': '0',
                    'color': '#fff',
                    'padding': '10px',
                    'background-color': 'rgb(199,199,199)',
                    'margin-bottom': '0'
                });
                var cardBody = $('<div>').addClass('card-body').css({
                    'display': 'flex',
                    'flex-direction': 'column',
                    'justify-content': 'space-between',
                    'height': '100%'}
                );
                var cardText = $('<p>').addClass('card-text').text(course.description);
                var cardButton = $('<a>').addClass('btn btn-primary').attr('href', '#').text('Подробнее').css('width','150px');
                cardBody.append(cardText, cardButton);
                card.append(cardTitle, cardBody);
                coursesList.append(card);
            });
        },
        error: function() {
            console.error('Error retrieving courses from the server.');
        }
    });
</script>
</body>
</html>